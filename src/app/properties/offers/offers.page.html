<ion-header >
  <ion-toolbar>
    <ion-buttons slot="end">
      <ion-button *ngIf="this.filter === 'properties'" [routerLink]="['/', 'properties', 'tabs', 'offers', 'new_property']">
        <ion-icon name="add" text-right></ion-icon
      ></ion-button>
      <ion-button *ngIf="this.filter === 'offers'" >
        <ion-icon name="add" text-right></ion-icon
      ></ion-button>
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title *ngIf="this.filter === 'properties'" text-center>{{ this.labels.propertiesManagment }}</ion-title>
    <ion-title *ngIf="this.filter === 'offers'" text-center>{{ this.labels.display }}</ion-title>
  </ion-toolbar>
</ion-header>


<!-- <ion-segment (ionChange)="onFilterUpdate($event.detail.value)">
  <ion-segment-button value="properties" checked>{{ this.labels.property}}</ion-segment-button>
  <ion-segment-button value="offers" >{{ this.labels.display }}</ion-segment-button>
</ion-segment> -->

 <ion-grid *ngIf="nothingToDisplay">
    <ion-row>
      <ion-col>
         <ion-label >لايوجد لديك أي ممتلكات</ion-label>
    </ion-col>
  </ion-row>
 </ion-grid>

 <ion-grid class="ion-margin-bottom: 10px;margin-top: 0px; padding-top: 0px">
  <ion-row class="ion-text-center" style="margin-top: 0px; padding-top: 0px">
    <ion-col size-xs="12">
      <ion-item-sliding #slidingItem *ngIf="listedProperties">
        <ion-list lines="none">
          <!-- *************************************** -->
          <ion-item *ngIf="!currentProperty"
            ><ion-label class="ion-text-center"
              >لايوجد ممتلكات للعرض</ion-label
            ></ion-item
          >
          <ion-item *ngIf="currentProperty">
            <ion-card class="ion-no-padding">
              <!-- ion card header -->
              <ion-card-header class="">
                <ion-grid
                  class="ion-no-padding;"
                  style="border-radius:5px;
                      border: 1px solid black;"
                >
                

                  <!--<ion-label
                              class="ion-text-center"
                              *ngIf="!currentProperty.hasOffer"
                            >
                              {{ currentProperty.price }}</ion-label
                            >-->

                  <ion-row
                    style="border-radius:5px;
                        border: 1px solid red;"
                  >
                    <ion-col
                      size-xs="8"
                      style="border-radius:5px; border: 1px solid blue;"
                    >
                      <ion-grid >
                          <ion-row style="border-radius:5px;
                          border: 1px solid yellowgreen;">
                              <ion-col size="2" sort="start">
                                <!-- <ion-item> -->
                                  <ion-label
                                    *ngIf="!bookmarkOn"
                                    style="font-size: 15;padding-left: 0px; padding-right: 0px;padding-top: 0px;margin-top: 0px; margin-bottom: 0px"
                                    ><ion-icon
                                      (click)="onBookMark()"
                                      style="color: gray"
                                      size="large"
                                      name="ios-bookmark"
                                    ></ion-icon
                                  ></ion-label>
                                  <ion-label
                                    *ngIf="bookmarkOn"
                                    style="font-size: 15;padding-left: 0px; padding-right: 0px;padding-top: 0px;margin-top: 0px; margin-bottom: 0px"
                                    ><ion-icon
                                      (click)="onBookMark()"
                                      style="color: rgb(194, 82, 57)"
                                      size="large"
                                      name="ios-bookmark"
                                    ></ion-icon
                                  ></ion-label>
                                <!-- </ion-item> -->
                              </ion-col>
                              <ion-col size="10"></ion-col>
                            </ion-row>
                        <ion-row>
                          <ion-col size="6">
                            <ion-grid>
                              <ion-row>
                                
                                <ion-col size="12">
                                  <ion-label class="ion-text-center"
                                    >{{ currentProperty.space }}</ion-label
                                  >
                                </ion-col>
                              </ion-row>
                              <ion-row>
                                <ion-col size-xs="12"
                                  ><ion-label
                                    class="ion-text-center;color:black"
                                  >
                                    {{currentProperty.kind }}</ion-label
                                  ></ion-col
                                >
                              </ion-row>
                              <ion-row>
                                <ion-col size-xs="12"
                                  ><ion-label class="ion-text-center"
                                    >{{ currentProperty.address }}</ion-label
                                  ></ion-col
                                >
                              </ion-row>
                            </ion-grid>
                          </ion-col>
                          <ion-col size="6">
                            <ion-grid>
                              <ion-row>
                                <ion-col size="12">
                                  <ion-label
                                    class="ion-text-center; justify-content: center;
                                        align-items: center;"
                                    *ngIf="!currentProperty.hasOffer"
                                    >{{ currentProperty.price }}</ion-label
                                  >
                                </ion-col>
                              </ion-row>
                              <ion-row> </ion-row>
                            </ion-grid>

                            <ion-label
                              class="ion-text-center"
                              *ngIf="currentProperty.hasOffer"
                              style="text-decoration: line-through"
                              >{{ currentProperty.price }}</ion-label
                            >
                          </ion-col>
                        </ion-row>
                      </ion-grid>
                    </ion-col>

                    <ion-col size-xs="4">
                      <ion-grid>
                        <ion-row>
                          <ion-col size="12">
                            <ion-img
                              class="id-pic"
                              src="https://cdn2.iconfinder.com/data/icons/rcons-user/32/male-circle-512.png"
                            ></ion-img>
                            <ion-label class="ion-text-center">
                              {{currentProperty.owner}} `
                            </ion-label>
                          </ion-col>
                        </ion-row>
                      </ion-grid>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-card-header>
              <!-- </ion-col> -->
              <!-- Header photo -->

              <!-- End of header details -->
              <!-- </ion-row> -->
              <!-- End of Header Detail -->

              <ion-card-content no-padding>
                <ion-grid no-padding>
                  <ion-row>
                    <ion-col size="12">
                      <ion-grid>
                        <ion-row>
                          <ion-col size-xs="2">
                            <ion-label class="ion-text-center">
                              <ion-icon name="tv"></ion-icon
                              ><ion-text
                                style="font-size: 8px;"
                                *ngIf="currentProperty.livingrooms"
                                >{{currentProperty.livingrooms}}</ion-text
                              ></ion-label
                            >
                          </ion-col>
                          <ion-col size-xs="2">
                            <ion-label class="ion-text-center"
                              ><ion-icon name="bicycle"></ion-icon
                              ><ion-text
                                style="font-size: 8px;"
                                *ngIf="currentProperty.livingrooms"
                                >{{currentProperty.bathrooms}}</ion-text
                              ></ion-label
                            >
                          </ion-col>
                          <ion-col size-xs="2">
                            <ion-label class="ion-text-center"
                              ><ion-icon name="car"></ion-icon
                              ><ion-text
                                style="font-size: 8px;"
                                *ngIf="currentProperty.livingrooms"
                                >{{currentProperty.bedrooms}}</ion-text
                              ></ion-label
                            >
                          </ion-col>
                          <ion-col size-xs="2">
                            <ion-label class="ion-text-center">
                              <ion-icon name="boat"></ion-icon
                              ><ion-text
                                style="font-size: 8px;"
                                *ngIf="currentProperty.livingrooms"
                                >{{currentProperty.garages}}</ion-text
                              ></ion-label
                            >
                          </ion-col>
                          <ion-col size-xs="2">
                            <ion-label class="ion-text-center">
                              <ion-icon name="train"></ion-icon
                              ><ion-text
                                style="font-size: 8px;"
                                *ngIf="currentProperty.livingrooms"
                                >{{currentProperty.gardens}}</ion-text
                              ></ion-label
                            >
                          </ion-col>
                          <ion-col size-xs="2">
                            <ion-label class="ion-text-center"
                              ><ion-icon name="walk"></ion-icon
                              ><ion-text
                                style="font-size: 8px;"
                                *ngIf="currentProperty.livingrooms"
                                >{{currentProperty.ketchins}}</ion-text
                              ></ion-label
                            >
                          </ion-col>
                        </ion-row>
                      </ion-grid>
                    </ion-col>
                  </ion-row>
                  <ion-row size-xs="12">
                    <ion-col>
                      <ion-img
                        class="main-pic"
                        src="{{currentProperty.propertyPic}}"
                      ></ion-img>
                    </ion-col>
                  </ion-row>
                  <ion-row style="margin-bottom: 0%; margin-top: 3%;">
                    <ion-col size-xs="2">
                      <ion-label
                        *ngIf="!listActive"
                        class="ion-text-center"
                        style="margin-right: 3%"
                        (click)="onList()"
                        ><ion-icon size="small" name="list"></ion-icon>
                      </ion-label>
                      <ion-label
                        *ngIf="listActive"
                        class="ion-text-center"
                        style="margin-right: 3%; color:dodgerblue"
                        ><ion-icon size="small" name="list"></ion-icon>
                      </ion-label>
                    </ion-col>

                    <ion-col size-xs="2">
                      <ion-label
                        *ngIf="!messageActive"
                        class="ion-text-center"
                        style="margin-right: 3%"
                        (click)="onMessages()"
                        ><ion-icon size="small" name="mail"></ion-icon>
                      </ion-label>
                      <ion-label
                        *ngIf="messageActive"
                        class="ion-text-center"
                        style="margin-right: 3%; color:dodgerblue;"
                        ><ion-icon size="small" name="mail"></ion-icon>
                      </ion-label>
                    </ion-col>
                    <ion-col size-xs="2">
                      <ion-label
                        *ngIf="!mapActive"
                        class="ion-text-center"
                        style="margin-right: 3%"
                        (click)="onMap()"
                        ><ion-icon size="small" name="map"></ion-icon>
                      </ion-label>
                      <ion-label
                        *ngIf="mapActive"
                        class="ion-text-center"
                        style="margin-right: 3%; color:dodgerblue"
                        ><ion-icon size="small" name="map"></ion-icon>
                      </ion-label>
                    </ion-col>
                    <ion-col size-xs="2">
                      <ion-label
                        *ngIf="!imageActive"
                        class="ion-text-center"
                        style="margin-right: 3%"
                        (click)="onImage()"
                        ><ion-icon size="small" name="image"></ion-icon>
                      </ion-label>
                      <ion-label
                        *ngIf="imageActive"
                        class="ion-text-center"
                        style="margin-right: 3%; color:dodgerblue"
                        ><ion-icon size="small" name="image"></ion-icon>
                      </ion-label>
                    </ion-col>
                    <ion-col size-xs="2">
                      <!-- <ion-label class="ion-text-right" style="margin-right: 3%;margin-bottom: 3%;">{{currentProperty.endDate | date}}: {{this.labels.endDate}}</ion-label> -->
                      <ion-label
                        *ngIf="likeOn"
                        class="ion-text-center"
                        style="margin-left: 3%"
                        (click)="onLike(currentProperty.id, $event)"
                        ><ion-icon
                          size="small"
                          name="heart"
                          style="color: rgb(194, 82, 57)"
                        ></ion-icon
                        ><ion-text
                          style="font-size: 8px;"
                          *ngIf="currentProperty.likes"
                          >{{currentProperty.likes.length}}</ion-text
                        ></ion-label
                      >
                      <ion-label
                        *ngIf="!likeOn"
                        class="ion-text-center"
                        style="margin-left: 3%"
                        (click)="onLike(currentProperty.id,$event)"
                        ><ion-icon
                          size="small"
                          name="heart"
                          style="color: gray"
                        ></ion-icon
                        ><ion-text
                          style="font-size: 8px;"
                          *ngIf="currentProperty.likes"
                          >{{currentProperty.likes.length}}</ion-text
                        ></ion-label
                      >
                    </ion-col>
                    <ion-col size-xs="2">
                      <ion-label
                        class="ion-text-center"
                        style="margin-right: 3%"
                        ><ion-icon size="small" name="eye"></ion-icon
                        ><ion-text
                          *ngIf="currentProperty.views"
                          style="font-size: 8px;"
                          >{{currentProperty.views.length}}</ion-text
                        >
                      </ion-label>
                    </ion-col>
                  </ion-row>
                  <ion-row>
                    <ion-col size-xm="12">
                      <ion-grid class=" ion-no-padding">
                        <hr />

                        <ion-row
                          style="align-content: center;margin-top:0;margin-right: 5%;margin-left: 5%; margin-bottom: 2%;"
                        >
                          <ion-col size-xs="7">
                            <ion-label
                              class="ion-text-left"
                              style="justify-content: center;margin-right: 3%;color:black"
                              >{{currentProperty.startDate | date}}:
                              {{this.labels.startDate}}</ion-label
                            >
                          </ion-col>
                          <ion-col size-xs="1">
                            <ion-label
                              class="ion-text-right"
                              style="margin-right: 0% ; color: rgb(255, 153, 0)"
                              ><ion-icon name="star"></ion-icon>
                            </ion-label>
                          </ion-col>
                          <ion-col size-xs="1">
                            <ion-label
                              class="ion-text-right"
                              style="margin-right: 0% ; color: rgb(255, 153, 0)"
                              ><ion-icon name="star"></ion-icon>
                            </ion-label>
                          </ion-col>
                          <ion-col size-xs="1">
                            <ion-label
                              class="ion-text-right"
                              style="margin-right: 0% ; color: rgb(255, 153, 0)"
                              ><ion-icon name="star"></ion-icon>
                            </ion-label>
                          </ion-col>
                          <ion-col size-xs="1">
                            <ion-label
                              class="ion-text-right"
                              style="margin-right: 0%"
                              ><ion-icon name="star"></ion-icon>
                            </ion-label>
                          </ion-col>
                          <ion-col size-xs="1">
                            <ion-label
                              class="ion-text-right"
                              style="margin-right: 3%"
                              ><ion-icon name="star"></ion-icon>
                            </ion-label>
                          </ion-col>
                        </ion-row>
                      </ion-grid>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </ion-card-content>
              <!-- </ion-col>
                </ion-row> -->
              <!-- ******************************     Facilities details            ******************************* -->
              <!-- </ion-grid> -->
            </ion-card>
          </ion-item>

          <ion-item-options slot="end">
            <ion-item-option color="dark">
              <ion-label class="ion-text-center"
                ><p>{{labels.book}}</p></ion-label
              >
              <ion-icon name="create" slot="top"></ion-icon>
            </ion-item-option>
            <ion-item-option color="dark">
              <ion-label class="ion-text-center"
                ><p>{{labels.show}}</p></ion-label
              >
              <ion-icon name="create" slot="top"></ion-icon>
            </ion-item-option>
          </ion-item-options>
        </ion-list>
      </ion-item-sliding>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col> </ion-col>
  </ion-row>
</ion-grid>

  <ion-content *ngIf="this.listOfProperties">
  <ion-content  *ngIf="this.listedProperties">
      <ion-virtual-scroll [items]="listedProperties" approxItemHeight="70px" #virtualScroll>
          <ion-item  *virtualItem="let property" style="margin-right: 30px; margin-left: 30px">
            <ion-thumbnail slot="end" >
              <ion-img src="{{property.propertyPicture}}" class="thumbnail-pic" (click)="clickedPrperty(property.id)"></ion-img>
            </ion-thumbnail>
            <ion-label text-right>{{property.description}}</ion-label>
          </ion-item>
         </ion-virtual-scroll>
    </ion-content>

    <ion-content *ngIf="messages">
      <ion-virtual-scroll [items]="listedProperties" approxItemHeight="70px" #virtualScroll>
        <ion-item  *virtualItem="let property" style="margin-right: 30px; margin-left: 30px">
          <ion-thumbnail slot="end" >
            <ion-label text-center>Image view of<ion-text style="color: dodgerblue"> {{currentProperty.userId}} </ion-text> for <ion-text  style="color: dodgerblue">{{currentProperty.id}}</ion-text>...go here.</ion-label>
          </ion-thumbnail>
          <ion-label text-right>{{property.description}}</ion-label>
        </ion-item>
       </ion-virtual-scroll>
    </ion-content>
    <ion-content *ngIf="map">
      <ion-label text-center>Map view of<ion-text style="color: dodgerblue"> {{currentProperty.userId}} </ion-text> for <ion-text  style="color: dodgerblue">{{currentProperty.id}}</ion-text>...go here.</ion-label>
    </ion-content>
    <ion-content *ngIf="image">
      <ion-label text-center>Image view of<ion-text style="color: dodgerblue"> {{currentProperty.userId}} </ion-text> for <ion-text  style="color: dodgerblue">{{currentProperty.id}}</ion-text>...go here.</ion-label>
    </ion-content>
</ion-content>
